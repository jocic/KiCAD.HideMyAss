EESchema Schematic File Version 4
LIBS:hardware-cache
EELAYER 26 0
EELAYER END
$Descr A4 11693 8268
encoding utf-8
Sheet 1 1
Title ""
Date ""
Rev ""
Comp ""
Comment1 ""
Comment2 ""
Comment3 ""
Comment4 ""
$EndDescr
$Comp
L Missing:USBLC6-2 U1
U 1 1 5F42C6D3
P 2700 1750
F 0 "U1" H 2700 2117 50  0000 C CNN
F 1 "USBLC6-2" H 2700 2026 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:SOT-23-6_Handsoldering" H 1800 1150 50  0001 L BNN
F 3 "https://www.st.com/resource/en/datasheet/usblc6-2.pdf" H 2700 2250 50  0001 C CNN
	1    2700 1750
	1    0    0    -1  
$EndComp
$Comp
L Connector:USB_B_Micro J1
U 1 1 5F42C876
P 1700 1500
F 0 "J1" H 1704 1980 50  0000 C CNN
F 1 "USB_B_Micro" H 1700 1882 50  0000 C CNN
F 2 "" H 1850 1450 50  0001 C CNN
F 3 "~" H 1850 1450 50  0001 C CNN
	1    1700 1500
	1    0    0    -1  
$EndComp
NoConn ~ 1600 1900
$Comp
L MCU_Microchip_PIC18:PIC18F45K50_QFP U2
U 1 1 5F42CA4A
P 7500 2850
F 0 "U2" H 7500 4428 50  0000 C CNN
F 1 "PIC18F45K50_QFP" H 7500 4337 50  0000 C CNN
F 2 "Package_QFP:TQFP-44_10x10mm_P0.8mm" H 7500 2850 50  0001 C CIN
F 3 "http://ww1.microchip.com/downloads/en/DeviceDoc/30000684B.pdf" H 7500 2550 50  0001 C CNN
	1    7500 2850
	1    0    0    -1  
$EndComp
NoConn ~ 2000 1700
Wire Wire Line
	2200 1750 2300 1750
Wire Wire Line
	3100 1750 3200 1750
Wire Wire Line
	3100 1650 3300 1650
Wire Wire Line
	3100 1850 3300 1850
$Comp
L power:GND #PWR02
U 1 1 5F42FA59
P 1700 2250
F 0 "#PWR02" H 1700 2000 50  0001 C CNN
F 1 "GND" H 1705 2077 50  0000 C CNN
F 2 "" H 1700 2250 50  0001 C CNN
F 3 "" H 1700 2250 50  0001 C CNN
	1    1700 2250
	1    0    0    -1  
$EndComp
$Comp
L Device:C C1
U 1 1 5F4300CF
P 2700 2150
F 0 "C1" V 2527 2151 50  0000 C CNN
F 1 "100nF" V 2437 2151 50  0000 C CNN
F 2 "" H 2738 2000 50  0001 C CNN
F 3 "~" H 2700 2150 50  0001 C CNN
	1    2700 2150
	0    -1   -1   0   
$EndComp
Wire Wire Line
	3200 2150 2850 2150
Wire Wire Line
	2550 2150 2200 2150
Text GLabel 3300 1650 2    50   Input ~ 0
USB_D+
Text GLabel 3300 1850 2    50   Input ~ 0
USB_D-
Wire Wire Line
	3200 1750 3300 1750
Connection ~ 3200 1750
Text GLabel 3300 1750 2    50   Input ~ 0
USB_VBUS
Wire Wire Line
	3200 1300 3200 1750
Wire Wire Line
	3200 1750 3200 2150
Wire Wire Line
	2200 1750 2200 2150
Connection ~ 2200 2150
Wire Wire Line
	1700 2250 1700 2150
Wire Wire Line
	2000 1300 3200 1300
Wire Wire Line
	2200 2150 1700 2150
Wire Wire Line
	1700 1900 1700 2150
Wire Wire Line
	2300 1850 2100 1850
Wire Wire Line
	2100 1850 2100 1600
Wire Wire Line
	2100 1600 2000 1600
Wire Wire Line
	2000 1500 2200 1500
Wire Wire Line
	2200 1500 2200 1650
Wire Wire Line
	2200 1650 2300 1650
Wire Notes Line
	1400 900  1400 2550
Text Notes 1400 850  0    50   ~ 0
USB Connection & ESD Protection
Wire Notes Line
	1400 2550 3800 2550
Wire Notes Line
	3800 900  3800 2550
Wire Notes Line
	1400 900  3800 900 
Text GLabel 5700 3850 0    50   Input ~ 0
USB_D+
Text GLabel 5700 3750 0    50   Input ~ 0
USB_D-
Wire Wire Line
	5700 3850 5800 3850
Wire Wire Line
	5800 3750 5700 3750
Text GLabel 5700 3650 0    50   Input ~ 0
USB_VBUS
Wire Wire Line
	5800 3650 5700 3650
$Comp
L Regulator_Linear:LM317_3PinPackage U3
U 1 1 5F43B134
P 2300 3250
F 0 "U3" H 2300 3492 50  0000 C CNN
F 1 "LM317A" H 2300 3401 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:TO-252-2" H 2300 3500 50  0001 C CIN
F 3 "http://www.ti.com/lit/ds/symlink/lm317.pdf" H 2300 3250 50  0001 C CNN
	1    2300 3250
	1    0    0    -1  
$EndComp
$Comp
L Device:C C2
U 1 1 5F43DEFA
P 1500 3500
F 0 "C2" H 1615 3546 50  0000 L CNN
F 1 "0.1μF" H 1615 3455 50  0000 L CNN
F 2 "" H 1538 3350 50  0001 C CNN
F 3 "~" H 1500 3500 50  0001 C CNN
	1    1500 3500
	1    0    0    -1  
$EndComp
$Comp
L Device:C C4
U 1 1 5F43DF4C
P 3400 4000
F 0 "C4" H 3515 4046 50  0000 L CNN
F 1 "1μF" H 3515 3955 50  0000 L CNN
F 2 "" H 3438 3850 50  0001 C CNN
F 3 "~" H 3400 4000 50  0001 C CNN
	1    3400 4000
	1    0    0    -1  
$EndComp
$Comp
L Device:R R1
U 1 1 5F4417D2
P 2700 3500
F 0 "R1" H 2770 3546 50  0000 L CNN
F 1 "1k" H 2770 3455 50  0000 L CNN
F 2 "" V 2630 3500 50  0001 C CNN
F 3 "~" H 2700 3500 50  0001 C CNN
	1    2700 3500
	1    0    0    -1  
$EndComp
$Comp
L Device:R R2
U 1 1 5F444855
P 2300 4000
F 0 "R2" H 2370 4046 50  0000 L CNN
F 1 "1.5k" H 2370 3955 50  0000 L CNN
F 2 "" V 2230 4000 50  0001 C CNN
F 3 "~" H 2300 4000 50  0001 C CNN
	1    2300 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	2300 4150 2300 4250
Connection ~ 2300 4250
Wire Wire Line
	2700 3250 2700 3350
Wire Wire Line
	2700 3650 2700 3750
Wire Wire Line
	2300 3550 2300 3750
Wire Wire Line
	2600 3250 2700 3250
Wire Wire Line
	2300 3750 2700 3750
Connection ~ 2300 3750
Wire Wire Line
	2300 3750 2300 3850
Connection ~ 1700 2150
Wire Wire Line
	2300 4250 2300 4400
$Comp
L power:GND #PWR03
U 1 1 5F45E674
P 2300 4400
F 0 "#PWR03" H 2300 4150 50  0001 C CNN
F 1 "GND" H 2305 4227 50  0000 C CNN
F 2 "" H 2300 4400 50  0001 C CNN
F 3 "" H 2300 4400 50  0001 C CNN
	1    2300 4400
	1    0    0    -1  
$EndComp
Text GLabel 3500 3250 2    50   Input ~ 0
Vdd
Text GLabel 1400 3250 0    50   Input ~ 0
USB_VBUS
Wire Wire Line
	3050 3650 3050 3750
Wire Wire Line
	3050 3250 3050 3350
$Comp
L Device:D D1
U 1 1 5F44854E
P 3050 3500
F 0 "D1" V 3004 3579 50  0000 L CNN
F 1 "M7" V 3095 3579 50  0000 L CNN
F 2 "" H 3050 3500 50  0001 C CNN
F 3 "~" H 3050 3500 50  0001 C CNN
	1    3050 3500
	0    1    1    0   
$EndComp
$Comp
L Device:CP C3
U 1 1 5F466DD0
P 1850 4000
F 0 "C3" H 1968 4046 50  0000 L CNN
F 1 "10μF" H 1968 3955 50  0000 L CNN
F 2 "" H 1888 3850 50  0001 C CNN
F 3 "~" H 1850 4000 50  0001 C CNN
	1    1850 4000
	1    0    0    -1  
$EndComp
Wire Wire Line
	1850 3850 1850 3750
Wire Wire Line
	1850 4250 1850 4150
Wire Wire Line
	1850 3750 2300 3750
Wire Wire Line
	1850 4250 2300 4250
Wire Notes Line
	3800 4700 3800 2900
Text Notes 850  2850 0    50   ~ 0
3.3V Voltage Regulator \w Improved Ripple Rejection
Wire Notes Line
	850  2900 850  4700
Wire Wire Line
	3400 3250 3500 3250
Wire Wire Line
	2700 3250 3050 3250
Connection ~ 2700 3250
Wire Wire Line
	3400 3250 3050 3250
Connection ~ 3400 3250
Connection ~ 3050 3250
Wire Wire Line
	2700 3750 3050 3750
Connection ~ 2700 3750
Wire Wire Line
	2300 4250 3400 4250
Wire Wire Line
	1850 4250 1500 4250
Connection ~ 1850 4250
Wire Wire Line
	1500 4250 1500 3650
Wire Wire Line
	1500 3250 2000 3250
Wire Wire Line
	1500 3250 1400 3250
Connection ~ 1500 3250
Wire Wire Line
	1500 3350 1500 3250
Wire Wire Line
	3400 3250 3400 3850
Wire Wire Line
	3400 4150 3400 4250
Wire Notes Line
	3800 4700 850  4700
Wire Notes Line
	850  2900 3800 2900
$Comp
L power:GND #PWR01
U 1 1 5F486A21
P 1050 1700
F 0 "#PWR01" H 1050 1450 50  0001 C CNN
F 1 "GND" H 1055 1527 50  0000 C CNN
F 2 "" H 1050 1700 50  0001 C CNN
F 3 "" H 1050 1700 50  0001 C CNN
	1    1050 1700
	1    0    0    -1  
$EndComp
Wire Wire Line
	1050 1700 1050 1550
Text GLabel 1050 1550 1    50   Input ~ 0
Vss
$Comp
L Missing:DW01 U4
U 1 1 5F49761B
P 3500 5650
F 0 "U4" H 4000 5917 50  0000 C CNN
F 1 "DW01+G" H 4000 5826 50  0000 C CNN
F 2 "Package_TO_SOT_SMD:TSOT-23-6_HandSoldering" H 3200 5000 50  0001 L BNN
F 3 "https://datasheet.lcsc.com/szlcsc/Fortune-Semicon-DW01-G_C14213.pdf" H 2700 4900 50  0001 L BNN
	1    3500 5650
	1    0    0    -1  
$EndComp
$Comp
L Device:Battery_Cell BT1
U 1 1 5F4978A6
P 3650 6600
F 0 "BT1" H 3532 6696 50  0000 R CNN
F 1 "3.7V" H 3532 6605 50  0000 R CNN
F 2 "" V 3650 6660 50  0001 C CNN
F 3 "~" V 3650 6660 50  0001 C CNN
	1    3650 6600
	-1   0    0    -1  
$EndComp
Wire Wire Line
	3650 6300 3650 6400
Wire Wire Line
	3650 6700 3650 6800
$Comp
L Device:R R3
U 1 1 5F49CDDA
P 3400 6300
F 0 "R3" V 3193 6300 50  0000 C CNN
F 1 "100" V 3284 6300 50  0000 C CNN
F 2 "" V 3330 6300 50  0001 C CNN
F 3 "~" H 3400 6300 50  0001 C CNN
	1    3400 6300
	0    1    1    0   
$EndComp
Wire Wire Line
	3650 6300 3550 6300
Wire Wire Line
	3250 6300 3150 6300
Wire Wire Line
	3150 6300 3150 6400
Wire Wire Line
	3150 6800 3650 6800
$Comp
L Device:C C5
U 1 1 5F49F544
P 3150 6550
F 0 "C5" H 3265 6596 50  0000 L CNN
F 1 "0.1μF" H 3265 6505 50  0000 L CNN
F 2 "" H 3188 6400 50  0001 C CNN
F 3 "~" H 3150 6550 50  0001 C CNN
	1    3150 6550
	1    0    0    -1  
$EndComp
Wire Wire Line
	3150 6700 3150 6800
Wire Wire Line
	4500 5650 4600 5650
Wire Wire Line
	4500 5750 4600 5750
Wire Wire Line
	3150 6300 3050 6300
Connection ~ 3150 6300
Wire Wire Line
	3150 6800 3050 6800
Connection ~ 3150 6800
Text GLabel 3050 6800 0    50   Input ~ 0
BP_VSS
Text GLabel 3050 6300 0    50   Input ~ 0
BP_VDD
Text GLabel 4600 5650 2    50   Input ~ 0
BP_VSS
Text GLabel 4600 5750 2    50   Input ~ 0
BP_VDD
NoConn ~ 4500 5850
$Comp
L Missing:TP4056 U5
U 1 1 5F4F6DD3
P 1200 5850
F 0 "U5" H 1200 6417 50  0000 C CNN
F 1 "TP4056" H 1200 6326 50  0000 C CNN
F 2 "Package_SO:SSOP-8_2.95x2.8mm_P0.65mm" H 550 4750 50  0001 L BNN
F 3 "https://datasheet.lcsc.com/szlcsc/1906261508_Nanjing-Extension-Microelectronics-TP4056-42-ESOP8_C16581.pdf" H 1250 4650 50  0001 C CNN
	1    1200 5850
	1    0    0    -1  
$EndComp
$Comp
L Missing:FS8205 Q?
U 1 1 5F508BA9
P 4600 6800
F 0 "Q?" H 4900 6550 50  0000 L CNN
F 1 "FS8205" H 4800 6450 50  0000 L CNN
F 2 "Package_TO_SOT_SMD:TSOT-23-6_HandSoldering" H 3700 6200 50  0001 L BNN
F 3 "https://datasheet.lcsc.com/szlcsc/Fortune-Semicon-FS8205_C32254.pdf" H 3300 6100 50  0001 L BNN
	1    4600 6800
	1    0    0    -1  
$EndComp
Wire Wire Line
	3500 5850 3400 5850
Wire Wire Line
	4800 6450 4800 6550
Wire Wire Line
	3500 5750 3400 5750
Wire Wire Line
	3500 5650 3400 5650
Wire Wire Line
	4400 6550 4400 6450
Text GLabel 3400 5650 0    50   Input ~ 0
BP_OD
Text GLabel 3400 5850 0    50   Input ~ 0
BP_OC
Text GLabel 3400 5750 0    50   Input ~ 0
BP_CS
Text GLabel 4400 6450 1    50   Input ~ 0
BP_OD
Text GLabel 4800 6450 1    50   Input ~ 0
BP_OC
Wire Wire Line
	5050 6800 5150 6800
Text GLabel 5150 6300 1    50   Input ~ 0
BP_CS
Wire Wire Line
	5150 6400 5150 6300
Wire Wire Line
	3650 6300 3750 6300
Connection ~ 3650 6300
Text GLabel 3750 6300 2    50   Input ~ 0
BAT+
$Comp
L Device:R R?
U 1 1 5F54F52E
P 5150 6550
F 0 "R?" H 5220 6596 50  0000 L CNN
F 1 "1k" H 5220 6505 50  0000 L CNN
F 2 "" V 5080 6550 50  0001 C CNN
F 3 "~" H 5150 6550 50  0001 C CNN
	1    5150 6550
	1    0    0    -1  
$EndComp
Wire Wire Line
	5150 6800 5150 6700
Wire Wire Line
	5150 6800 5250 6800
Connection ~ 5150 6800
Text GLabel 5250 6800 2    50   Input ~ 0
BAT-
NoConn ~ 4600 6550
NoConn ~ 4600 7000
Wire Wire Line
	3650 6800 4150 6800
Connection ~ 3650 6800
Wire Notes Line
	2650 7250 2650 5250
Wire Notes Line
	2650 5250 5600 5250
Wire Notes Line
	5600 5250 5600 7250
Wire Notes Line
	2650 7250 5600 7250
Text Notes 2650 5200 0    50   ~ 0
Battery Protection
$EndSCHEMATC
